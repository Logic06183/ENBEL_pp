<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080" style="background: #ffffff;">
  <defs>
    <!-- LaTeX academic color scheme -->
    <linearGradient id="latexBlueGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#00549F;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#003366;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="latexTealGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#008080;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#006666;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="beamerHeader" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#00549F;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#003f7f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#002856;stop-opacity:1" />
    </linearGradient>
    
    <!-- Cohort-specific gradients -->
    <linearGradient id="gcroGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1E90FF;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1565C0;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="clinicalGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#228B22;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2E7D32;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="spatialGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#FF6B35;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#E64A19;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="knnGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8A2BE2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6A1B9A;stop-opacity:1" />
    </linearGradient>
    
    <!-- Map outline pattern -->
    <pattern id="mapPattern" patternUnits="userSpaceOnUse" width="40" height="40">
      <rect width="40" height="40" fill="#f8f9fa"/>
      <circle cx="20" cy="20" r="1" fill="#00549F" opacity="0.3"/>
      <path d="M 5 20 Q 20 5, 35 20 Q 20 35, 5 20" fill="none" stroke="#00549F" stroke-width="0.5" opacity="0.4"/>
    </pattern>
    
    <!-- LaTeX-style subtle background pattern -->
    <pattern id="latexPattern" patternUnits="userSpaceOnUse" width="60" height="60">
      <rect width="60" height="60" fill="#fafafa"/>
      <path d="M 60 0 L 0 0 0 60" fill="none" stroke="#f0f0f0" stroke-width="0.3"/>
    </pattern>
    
    <!-- Academic shadows -->
    <filter id="academicShadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="3" dy="6" stdDeviation="4" flood-color="#404040" flood-opacity="0.2"/>
    </filter>
    
    <filter id="lightShadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="3" stdDeviation="2" flood-color="#404040" flood-opacity="0.15"/>
    </filter>
    
    <!-- Arrow markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#00549F" />
    </marker>
    
    <marker id="dataflow" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#E64A19" />
    </marker>
    
    <!-- LaTeX typography styles -->
    <style>
      .latex-serif { font-family: "Times New Roman", "Computer Modern", serif; }
      .latex-sans { font-family: "Helvetica", "Computer Modern Sans", sans-serif; }
      .latex-mono { font-family: "Courier New", "Computer Modern Typewriter", monospace; }
      .math-notation { font-family: "Times New Roman", "Computer Modern", serif; font-style: italic; }
    </style>
  </defs>
  
  <!-- LaTeX-style background -->
  <rect width="1920" height="1080" fill="url(#latexPattern)"/>
  
  <!-- LaTeX Beamer header bar -->
  <rect x="0" y="0" width="1920" height="12" fill="url(#beamerHeader)"/>
  
  <!-- LaTeX Beamer institutional header -->
  <g id="institutional-header">
    <rect x="60" y="30" width="1800" height="45" rx="3" ry="3" fill="#00549F" opacity="0.95"/>
    <text x="80" y="55" class="latex-sans" font-size="16" font-weight="bold" fill="#ffffff">
      ENBEL 2025 • Environmental Burden of Disease • Climate Health Research
    </text>
    <text x="1840" y="55" class="latex-sans" font-size="14" text-anchor="end" fill="#ffffff">
      HE2AT Center • Wits Planetary Health Research
    </text>
  </g>
  
  <!-- Main slide title -->
  <g id="slide-title" filter="url(#academicShadow)">
    <rect x="120" y="90" width="1680" height="70" rx="6" ry="6" fill="url(#latexBlueGradient)"/>
    <text x="960" y="140" class="latex-serif" font-size="38" font-weight="bold" text-anchor="middle" fill="#ffffff">
      ENBEL Socioeconomic Imputation: GCRO-to-Clinical Data Integration
    </text>
  </g>
  
  <!-- Study Overview -->
  <g id="study-overview" transform="translate(960, 220)">
    <rect x="-840" y="-20" width="1680" height="60" rx="4" ry="4" fill="#f8f9fa" stroke="#00549F" stroke-width="1"/>
    <text x="-820" y="0" class="latex-serif" font-size="14" font-weight="bold" fill="#00549F">Total Dataset:</text>
    <text x="-720" y="0" class="latex-mono" font-size="14" fill="#404040">18,205 participants</text>
    <text x="-580" y="0" class="latex-serif" font-size="14" fill="#404040">•</text>
    <text x="-560" y="0" class="latex-serif" font-size="14" fill="#404040">Johannesburg metropolitan area</text>
    <text x="-300" y="0" class="latex-serif" font-size="14" fill="#404040">•</text>
    <text x="-280" y="0" class="latex-serif" font-size="14" fill="#404040">Geographic range:</text>
    <text x="-180" y="0" class="latex-mono" font-size="12" fill="#404040">Lat -26.569 to -25.857, Lon 27.820 to 28.382</text>
    
    <text x="-820" y="20" class="latex-serif" font-size="14" font-weight="bold" fill="#008080">Objective:</text>
    <text x="-740" y="20" class="latex-serif" font-size="14" fill="#404040">Transfer socioeconomic variables from GCRO survey participants to clinical cohort using spatial-demographic K-NN matching</text>
  </g>
  
  <!-- Two-cohort structure -->
  <g id="cohort-structure" transform="translate(960, 350)">
    
    <!-- GCRO Cohort (Source) -->
    <g transform="translate(-400, 0)" filter="url(#academicShadow)">
      <rect x="-180" y="-80" width="360" height="160" rx="8" ry="8" fill="#ffffff" stroke="#e0e0e0" stroke-width="1"/>
      <rect x="-180" y="-80" width="360" height="40" rx="8" ry="8" fill="url(#gcroGradient)"/>
      <rect x="-180" y="-40" width="360" height="10" fill="url(#gcroGradient)"/>
      
      <text x="0" y="-55" text-anchor="middle" class="latex-sans" font-size="18" font-weight="bold" fill="#ffffff">GCRO Cohort (Source)</text>
      <text x="0" y="-15" text-anchor="middle" class="latex-mono" font-size="16" font-weight="bold" fill="#1565C0">n = 9,102</text>
      
      <!-- Available socioeconomic variables with actual coverage -->
      <g transform="translate(-150, 5)">
        <text x="0" y="15" class="latex-serif" font-size="13" font-weight="bold" fill="#1565C0">Available Socioeconomic Data:</text>
        
        <g transform="translate(0, 35)">
          <rect x="0" y="-5" width="140" height="15" fill="#e3f2fd" rx="2"/>
          <text x="5" y="5" class="latex-mono" font-size="11" fill="#404040">Education:</text>
          <text x="80" y="5" class="latex-mono" font-size="11" font-weight="bold" fill="#1565C0">5,717 (62.8%)</text>
        </g>
        
        <g transform="translate(0, 52)">
          <rect x="0" y="-5" width="140" height="15" fill="#e8f5e8" rx="2"/>
          <text x="5" y="5" class="latex-mono" font-size="11" fill="#404040">Employment:</text>
          <text x="80" y="5" class="latex-mono" font-size="11" font-weight="bold" fill="#2E7D32">1,517 (16.7%)</text>
        </g>
        
        <g transform="translate(0, 69)">
          <rect x="0" y="-5" width="140" height="15" fill="#fff3e0" rx="2"/>
          <text x="5" y="5" class="latex-mono" font-size="11" fill="#404040">Housing:</text>
          <text x="80" y="5" class="latex-mono" font-size="11" font-weight="bold" fill="#E64A19">2,108 (23.2%)</text>
        </g>
      </g>
    </g>
    
    <!-- Large data transfer arrow -->
    <g transform="translate(0, 0)">
      <path d="M -220 0 Q -150 -30, -80 0 Q -150 30, -220 0" fill="none" stroke="#E64A19" stroke-width="4" marker-end="url(#dataflow)"/>
      <text x="-150" y="-40" text-anchor="middle" class="latex-sans" font-size="14" font-weight="bold" fill="#E64A19">Spatial-Demographic</text>
      <text x="-150" y="-24" text-anchor="middle" class="latex-sans" font-size="14" font-weight="bold" fill="#E64A19">K-NN Transfer</text>
      
      <!-- Geographic map overlay -->
      <rect x="-170" y="10" width="40" height="30" fill="url(#mapPattern)" rx="3" opacity="0.8"/>
      <text x="-150" y="50" text-anchor="middle" class="latex-mono" font-size="10" fill="#00549F">Johannesburg</text>
    </g>
    
    <!-- Clinical Cohort (Target) -->
    <g transform="translate(400, 0)" filter="url(#academicShadow)">
      <rect x="-180" y="-80" width="360" height="160" rx="8" ry="8" fill="#ffffff" stroke="#e0e0e0" stroke-width="1"/>
      <rect x="-180" y="-80" width="360" height="40" rx="8" ry="8" fill="url(#clinicalGradient)"/>
      <rect x="-180" y="-40" width="360" height="10" fill="url(#clinicalGradient)"/>
      
      <text x="0" y="-55" text-anchor="middle" class="latex-sans" font-size="18" font-weight="bold" fill="#ffffff">Clinical Cohort (Target)</text>
      <text x="0" y="-15" text-anchor="middle" class="latex-mono" font-size="16" font-weight="bold" fill="#2E7D32">n = 9,103</text>
      
      <!-- Available clinical biomarkers -->
      <g transform="translate(-150, 5)">
        <text x="0" y="15" class="latex-serif" font-size="13" font-weight="bold" fill="#2E7D32">Available Clinical Biomarkers:</text>
        
        <g transform="translate(0, 35)">
          <rect x="0" y="-5" width="140" height="15" fill="#ffebee" rx="2"/>
          <text x="5" y="5" class="latex-mono" font-size="11" fill="#404040">Systolic BP:</text>
          <text x="80" y="5" class="latex-mono" font-size="11" font-weight="bold" fill="#D32F2F">4,957 (54.5%)</text>
        </g>
        
        <g transform="translate(0, 52)">
          <rect x="0" y="-5" width="140" height="15" fill="#e8eaf6" rx="2"/>
          <text x="5" y="5" class="latex-mono" font-size="11" fill="#404040">Glucose:</text>
          <text x="80" y="5" class="latex-mono" font-size="11" font-weight="bold" fill="#3F51B5">2,731 (30.0%)</text>
        </g>
        
        <g transform="translate(0, 69)">
          <rect x="0" y="-5" width="140" height="15" fill="#f3e5f5" rx="2"/>
          <text x="5" y="5" class="latex-mono" font-size="11" fill="#404040">CD4, LDL, Hgb:</text>
          <text x="80" y="5" class="latex-mono" font-size="11" font-weight="bold" fill="#9C27B0">~14-28%</text>
        </g>
      </g>
    </g>
  </g>
  
  <!-- Multi-dimensional matching methodology -->
  <g id="methodology-details" transform="translate(960, 580)">
    
    <!-- Step 1: Spatial Matching -->
    <g transform="translate(-450, 0)" filter="url(#lightShadow)">
      <rect x="-140" y="-60" width="280" height="120" rx="6" ry="6" fill="#ffffff" stroke="#e0e0e0" stroke-width="1"/>
      <rect x="-140" y="-60" width="280" height="30" rx="6" ry="6" fill="url(#spatialGradient)"/>
      <rect x="-140" y="-30" width="280" height="6" fill="url(#spatialGradient)"/>
      
      <text x="0" y="-40" text-anchor="middle" class="latex-sans" font-size="14" font-weight="bold" fill="#ffffff">1. Spatial Proximity</text>
      
      <g transform="translate(0, -5)">
        <text x="0" y="10" text-anchor="middle" class="latex-serif" font-size="12" font-weight="bold" fill="#E64A19">Haversine Distance</text>
        <text x="0" y="25" text-anchor="middle" class="latex-mono" font-size="10" fill="#404040">Calculate geographic distance</text>
        <text x="0" y="38" text-anchor="middle" class="latex-mono" font-size="10" fill="#404040">between participant coordinates</text>
        <text x="0" y="51" text-anchor="middle" class="math-notation" font-size="10" fill="#606060">Weight = exp(-distance/8)</text>
      </g>
    </g>
    
    <!-- Step 2: Demographic Matching -->
    <g transform="translate(-150, 0)" filter="url(#lightShadow)">
      <rect x="-140" y="-60" width="280" height="120" rx="6" ry="6" fill="#ffffff" stroke="#e0e0e0" stroke-width="1"/>
      <rect x="-140" y="-60" width="280" height="30" rx="6" ry="6" fill="url(#gcroGradient)"/>
      <rect x="-140" y="-30" width="280" height="6" fill="url(#gcroGradient)"/>
      
      <text x="0" y="-40" text-anchor="middle" class="latex-sans" font-size="14" font-weight="bold" fill="#ffffff">2. Demographic Similarity</text>
      
      <g transform="translate(0, -5)">
        <text x="0" y="10" text-anchor="middle" class="latex-serif" font-size="12" font-weight="bold" fill="#1565C0">Sex + Race Matching</text>
        <text x="0" y="25" text-anchor="middle" class="latex-mono" font-size="10" fill="#404040">Exact categorical matches</text>
        <text x="0" y="38" text-anchor="middle" class="latex-mono" font-size="10" fill="#404040">with mismatch penalties</text>
        <text x="0" y="51" text-anchor="middle" class="math-notation" font-size="10" fill="#606060">Priority weighting factor</text>
      </g>
    </g>
    
    <!-- Step 3: K-NN Algorithm -->
    <g transform="translate(150, 0)" filter="url(#lightShadow)">
      <rect x="-140" y="-60" width="280" height="120" rx="6" ry="6" fill="#ffffff" stroke="#e0e0e0" stroke-width="1"/>
      <rect x="-140" y="-60" width="280" height="30" rx="6" ry="6" fill="url(#knnGradient)"/>
      <rect x="-140" y="-30" width="280" height="6" fill="url(#knnGradient)"/>
      
      <text x="0" y="-40" text-anchor="middle" class="latex-sans" font-size="14" font-weight="bold" fill="#ffffff">3. K-Nearest Neighbors</text>
      
      <g transform="translate(0, -5)">
        <text x="0" y="10" text-anchor="middle" class="latex-serif" font-size="12" font-weight="bold" fill="#6A1B9A">k = 5-15 neighbors</text>
        <text x="0" y="25" text-anchor="middle" class="latex-mono" font-size="10" fill="#404040">Weighted averaging of</text>
        <text x="0" y="38" text-anchor="middle" class="latex-mono" font-size="10" fill="#404040">most similar participants</text>
        <text x="0" y="51" text-anchor="middle" class="math-notation" font-size="10" fill="#606060">Quality thresholds applied</text>
      </g>
    </g>
    
    <!-- Step 4: Quality Control -->
    <g transform="translate(450, 0)" filter="url(#lightShadow)">
      <rect x="-140" y="-60" width="280" height="120" rx="6" ry="6" fill="#ffffff" stroke="#e0e0e0" stroke-width="1"/>
      <rect x="-140" y="-60" width="280" height="30" rx="6" ry="6" fill="url(#latexTealGradient)"/>
      <rect x="-140" y="-30" width="280" height="6" fill="url(#latexTealGradient)"/>
      
      <text x="0" y="-40" text-anchor="middle" class="latex-sans" font-size="14" font-weight="bold" fill="#ffffff">4. Quality Control</text>
      
      <g transform="translate(0, -5)">
        <text x="0" y="10" text-anchor="middle" class="latex-serif" font-size="12" font-weight="bold" fill="#006666">Confidence Scoring</text>
        <text x="0" y="25" text-anchor="middle" class="latex-mono" font-size="10" fill="#404040">Distance thresholds</text>
        <text x="0" y="38" text-anchor="middle" class="latex-mono" font-size="10" fill="#404040">Missing data handling</text>
        <text x="0" y="51" text-anchor="middle" class="math-notation" font-size="10" fill="#606060">Validation metrics</text>
      </g>
    </g>
    
    <!-- Flow arrows between steps -->
    <line x1="-310" y1="0" x2="-290" y2="0" stroke="#E64A19" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="-10" y1="0" x2="10" y2="0" stroke="#1565C0" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="290" y1="0" x2="310" y2="0" stroke="#6A1B9A" stroke-width="2" marker-end="url(#arrowhead)"/>
  </g>
  
  <!-- Technical specifications box -->
  <g transform="translate(120, 750)" filter="url(#lightShadow)">
    <rect x="0" y="0" width="500" height="260" rx="6" ry="6" fill="#ffffff" stroke="#00549F" stroke-width="1"/>
    <rect x="0" y="0" width="500" height="35" rx="6" ry="6" fill="url(#latexBlueGradient)"/>
    <rect x="0" y="35" width="500" height="8" fill="url(#latexBlueGradient)"/>
    
    <text x="250" y="25" text-anchor="middle" class="latex-sans" font-size="16" font-weight="bold" fill="#ffffff">Technical Specifications</text>
    
    <g transform="translate(20, 60)">
      <text x="0" y="15" class="latex-serif" font-size="13" font-weight="bold" fill="#00549F">Algorithmic Approach:</text>
      <text x="5" y="32" class="latex-mono" font-size="11" fill="#404040">• Multi-dimensional similarity scoring</text>
      <text x="5" y="47" class="latex-mono" font-size="11" fill="#404040">• Combined spatial-demographic weighting</text>
      <text x="5" y="62" class="latex-mono" font-size="11" fill="#404040">• Adaptive k-value optimization (5-15)</text>
      <text x="5" y="77" class="latex-mono" font-size="11" fill="#404040">• Categorical mode/continuous mean imputation</text>
      
      <text x="0" y="100" class="latex-serif" font-size="13" font-weight="bold" fill="#008080">Quality Assurance:</text>
      <text x="5" y="117" class="latex-mono" font-size="11" fill="#404040">• Distance decay functions</text>
      <text x="5" y="132" class="latex-mono" font-size="11" fill="#404040">• Demographic mismatch penalties</text>
      <text x="5" y="147" class="latex-mono" font-size="11" fill="#404040">• Minimum neighbor requirements</text>
      <text x="5" y="162" class="latex-mono" font-size="11" fill="#404040">• Confidence score validation</text>
      
      <text x="0" y="185" class="latex-serif" font-size="13" font-weight="bold" fill="#E64A19">Geographic Coverage:</text>
      <text x="5" y="202" class="latex-mono" font-size="11" fill="#404040">• Johannesburg metropolitan area</text>
      <text x="5" y="217" class="latex-mono" font-size="11" fill="#404040">• Haversine distance calculations</text>
    </g>
  </g>
  
  <!-- Results and performance metrics -->
  <g transform="translate(1300, 750)" filter="url(#lightShadow)">
    <rect x="0" y="0" width="500" height="260" rx="6" ry="6" fill="#ffffff" stroke="#008080" stroke-width="1"/>
    <rect x="0" y="0" width="500" height="35" rx="6" ry="6" fill="url(#latexTealGradient)"/>
    <rect x="0" y="35" width="500" height="8" fill="url(#latexTealGradient)"/>
    
    <text x="250" y="25" text-anchor="middle" class="latex-sans" font-size="16" font-weight="bold" fill="#ffffff">Implementation Results</text>
    
    <g transform="translate(20, 60)">
      <text x="0" y="15" class="latex-serif" font-size="13" font-weight="bold" fill="#008080">Data Coverage Achieved:</text>
      <text x="5" y="32" class="latex-mono" font-size="11" fill="#404040">• Education: 5,717 GCRO participants (62.8%)</text>
      <text x="5" y="47" class="latex-mono" font-size="11" fill="#404040">• Employment: 1,517 GCRO participants (16.7%)</text>
      <text x="5" y="62" class="latex-mono" font-size="11" fill="#404040">• Housing vulnerability: 2,108 participants (23.2%)</text>
      
      <text x="0" y="85" class="latex-serif" font-size="13" font-weight="bold" fill="#E64A19">Target Clinical Biomarkers:</text>
      <text x="5" y="102" class="latex-mono" font-size="11" fill="#404040">• Systolic BP: 4,957 participants (54.5%)</text>
      <text x="5" y="117" class="latex-mono" font-size="11" fill="#404040">• Fasting glucose: 2,731 participants (30.0%)</text>
      <text x="5" y="132" class="latex-mono" font-size="11" fill="#404040">• CD4 count: 1,283 participants (14.1%)</text>
      <text x="5" y="147" class="latex-mono" font-size="11" fill="#404040">• LDL cholesterol: 2,500 participants (27.5%)</text>
      <text x="5" y="162" class="latex-mono" font-size="11" fill="#404040">• Hemoglobin: 1,282 participants (14.1%)</text>
      
      <text x="0" y="185" class="latex-serif" font-size="13" font-weight="bold" fill="#6A1B9A">Processing Performance:</text>
      <text x="5" y="202" class="latex-mono" font-size="11" fill="#404040">• Total dataset: 18,205 participants</text>
      <text x="5" y="217" class="latex-mono" font-size="11" fill="#404040">• Sophisticated spatial-demographic matching</text>
    </g>
  </g>
  
  <!-- Mathematical formulation -->
  <g transform="translate(960, 1030)">
    <rect x="-400" y="-25" width="800" height="50" rx="4" ry="4" fill="#f8f9fa" stroke="#c0c0c0" stroke-width="1"/>
    <text x="0" y="-5" text-anchor="middle" class="math-notation" font-size="13" fill="#404040">
      Similarity Score = w₁ × demographic_match + w₂ × exp(-distance/σ) + quality_penalties
    </text>
    <text x="0" y="15" text-anchor="middle" class="math-notation" font-size="13" fill="#404040">
      Final Imputation = Σᵢ₌₁ᵏ (wᵢ × valueᵢ) / Σᵢ₌₁ᵏ wᵢ, where k ∈ [5,15]
    </text>
  </g>
  
  <!-- LaTeX Beamer slide number -->
  <text x="1850" y="1060" class="latex-sans" font-size="14" font-weight="bold" text-anchor="middle" fill="#404040">X/11</text>
  
  <!-- LaTeX-style page footer -->
  <rect x="0" y="1068" width="1920" height="12" fill="url(#beamerHeader)"/>
  
</svg>