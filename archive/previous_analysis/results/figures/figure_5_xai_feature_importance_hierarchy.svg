<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1000" width="1400" height="1000">
  <!-- Figure 5: XAI Feature Importance Hierarchy -->
  <!-- Comprehensive visualization showing climate × sex interactions and temporal patterns -->
  
  <defs>
    <!-- Importance level gradients -->
    <linearGradient id="strongImportance" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#d73027;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fc8d59;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="moderateImportance" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4575b4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#74add1;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="weakImportance" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#762a83;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#9970ab;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="negligibleImportance" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#737373;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#bdbdbd;stop-opacity:0.6" />
    </linearGradient>
    
    <!-- Background patterns for different categories -->
    <pattern id="climatePattern" patternUnits="userSpaceOnUse" width="10" height="10">
      <rect width="10" height="10" fill="#e8f4f8"/>
      <circle cx="5" cy="5" r="2" fill="#2166ac" opacity="0.3"/>
    </pattern>
    
    <pattern id="temporalPattern" patternUnits="userSpaceOnUse" width="10" height="10">
      <rect width="10" height="10" fill="#f0f8e8"/>
      <path d="M0,5 L10,5 M5,0 L5,10" stroke="#238b45" stroke-width="0.5" opacity="0.4"/>
    </pattern>
    
    <pattern id="sexPattern" patternUnits="userSpaceOnUse" width="10" height="10">
      <rect width="10" height="10" fill="#fdf2f8"/>
      <text x="5" y="8" font-family="Arial" font-size="6" text-anchor="middle" fill="#762a83" opacity="0.4">♂♀</text>
    </pattern>
    
    <!-- Drop shadow -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge> 
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/> 
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="1000" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="700" y="35" font-family="Arial, sans-serif" font-size="32" font-weight="bold" text-anchor="middle" fill="#2c2c2c">
    XAI Feature Importance Hierarchy
  </text>
  <text x="700" y="65" font-family="Arial, sans-serif" font-size="18" text-anchor="middle" fill="#666666">
    Climate × Demographics Interactions Ranked by Machine Learning Importance
  </text>
  
  <!-- Main hierarchy visualization -->
  <g id="importance_hierarchy" transform="translate(100, 120)">
    
    <!-- Section: Strong Importance (≥0.020) -->
    <g id="strong_section" transform="translate(0, 0)">
      <rect x="0" y="0" width="1200" height="180" rx="10" fill="white" stroke="#d73027" stroke-width="3" filter="url(#shadow)"/>
      
      <!-- Section header -->
      <rect x="20" y="20" width="1160" height="40" rx="5" fill="url(#strongImportance)"/>
      <text x="600" y="35" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">
        STRONG IMPORTANCE (≥0.020)
      </text>
      <text x="600" y="50" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
        High-priority climate-health interactions with substantial biological significance
      </text>
      
      <!-- Feature 1: heat_index_x_Sex (systolic BP) -->
      <g id="feature_1" transform="translate(50, 80)">
        <rect x="0" y="0" width="350" height="80" rx="5" fill="url(#sexPattern)" stroke="#d73027" stroke-width="2"/>
        
        <!-- Importance bar -->
        <rect x="10" y="10" width="240" height="12" fill="#e0e0e0" rx="6"/>
        <rect x="10" y="10" width="192" height="12" fill="#d73027" rx="6"/>
        
        <text x="20" y="35" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c2c2c">
          heat_index × Sex → Systolic BP
        </text>
        <text x="20" y="50" font-family="Arial, sans-serif" font-size="11" fill="#666">
          Combined Importance: 0.121
        </text>
        <text x="20" y="65" font-family="Arial, sans-serif" font-size="10" fill="#666">
          Strong sex-specific heat vulnerability for cardiovascular system
        </text>
        
        <!-- Biomarker icon -->
        <circle cx="310" cy="40" r="15" fill="#2166ac" opacity="0.8"/>
        <text x="310" y="44" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="white">BP</text>
      </g>
      
      <!-- Feature 2: apparent_temp_x_Sex (ALT) -->
      <g id="feature_2" transform="translate(450, 80)">
        <rect x="0" y="0" width="350" height="80" rx="5" fill="url(#sexPattern)" stroke="#d73027" stroke-width="2"/>
        
        <!-- Importance bar -->
        <rect x="10" y="10" width="240" height="12" fill="#e0e0e0" rx="6"/>
        <rect x="10" y="10" width="125" height="12" fill="#d73027" rx="6"/>
        
        <text x="20" y="35" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c2c2c">
          apparent_temp × Sex → ALT
        </text>
        <text x="20" y="50" font-family="Arial, sans-serif" font-size="11" fill="#666">
          Combined Importance: 0.052
        </text>
        <text x="20" y="65" font-family="Arial, sans-serif" font-size="10" fill="#666">
          Sex differences in liver enzyme response to heat stress
        </text>
        
        <!-- Biomarker icon -->
        <circle cx="310" cy="40" r="15" fill="#e08214" opacity="0.8"/>
        <text x="310" y="44" font-family="Arial, sans-serif" font-size="9" font-weight="bold" text-anchor="middle" fill="white">ALT</text>
      </g>
      
      <!-- Feature 3: temperature_x_Race -->
      <g id="feature_3" transform="translate(850, 80)">
        <rect x="0" y="0" width="300" height="80" rx="5" fill="url(#climatePattern)" stroke="#d73027" stroke-width="2"/>
        
        <!-- Importance bar -->
        <rect x="10" y="10" width="200" height="12" fill="#e0e0e0" rx="6"/>
        <rect x="10" y="10" width="82" height="12" fill="#d73027" rx="6"/>
        
        <text x="20" y="35" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#2c2c2c">
          temperature × Race → Systolic BP
        </text>
        <text x="20" y="50" font-family="Arial, sans-serif" font-size="11" fill="#666">
          Combined Importance: 0.041
        </text>
        <text x="20" y="65" font-family="Arial, sans-serif" font-size="10" fill="#666">
          Racial differences in temperature response
        </text>
        
        <!-- Biomarker icon -->
        <circle cx="260" cy="40" r="15" fill="#2166ac" opacity="0.8"/>
        <text x="260" y="44" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="white">BP</text>
      </g>
    </g>
    
    <!-- Section: Moderate Importance (0.010-0.020) -->
    <g id="moderate_section" transform="translate(0, 200)">
      <rect x="0" y="0" width="1200" height="200" rx="10" fill="white" stroke="#4575b4" stroke-width="2" filter="url(#shadow)"/>
      
      <!-- Section header -->
      <rect x="20" y="20" width="1160" height="35" rx="5" fill="url(#moderateImportance)"/>
      <text x="600" y="35" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
        MODERATE IMPORTANCE (0.010-0.020)
      </text>
      <text x="600" y="48" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
        Meaningful interactions requiring further investigation
      </text>
      
      <!-- Row 1 of moderate features -->
      <g id="moderate_row1" transform="translate(30, 70)">
        <!-- Feature: heat_index_x_Sex (glucose) -->
        <g id="glucose_heat_sex">
          <rect x="0" y="0" width="280" height="60" rx="4" fill="url(#sexPattern)" stroke="#4575b4" stroke-width="1"/>
          <rect x="5" y="5" width="150" height="8" fill="#e0e0e0" rx="4"/>
          <rect x="5" y="5" width="27" height="8" fill="#4575b4" rx="4"/>
          
          <text x="10" y="25" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c2c2c">
            heat_index × Sex → Glucose
          </text>
          <text x="10" y="38" font-family="Arial, sans-serif" font-size="9" fill="#666">
            Importance: 0.023 (Key Discovery!)
          </text>
          <text x="10" y="50" font-family="Arial, sans-serif" font-size="8" fill="#666">
            Core sex-specific metabolic vulnerability
          </text>
          
          <circle cx="250" cy="30" r="12" fill="#d73027" opacity="0.8"/>
          <text x="250" y="33" font-family="Arial, sans-serif" font-size="8" font-weight="bold" text-anchor="middle" fill="white">GLU</text>
        </g>
        
        <!-- Feature: temperature_x_Sex (various) -->
        <g id="temp_sex" transform="translate(300, 0)">
          <rect x="0" y="0" width="280" height="60" rx="4" fill="url(#sexPattern)" stroke="#4575b4" stroke-width="1"/>
          <rect x="5" y="5" width="150" height="8" fill="#e0e0e0" rx="4"/>
          <rect x="5" y="5" width="32" height="8" fill="#4575b4" rx="4"/>
          
          <text x="10" y="25" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c2c2c">
            temperature × Sex (multi-system)
          </text>
          <text x="10" y="38" font-family="Arial, sans-serif" font-size="9" fill="#666">
            Importance: 0.020-0.028 range
          </text>
          <text x="10" y="50" font-family="Arial, sans-serif" font-size="8" fill="#666">
            Consistent sex differences across biomarkers
          </text>
          
          <circle cx="250" cy="30" r="12" fill="#762a83" opacity="0.8"/>
          <text x="250" y="33" font-family="Arial, sans-serif" font-size="7" font-weight="bold" text-anchor="middle" fill="white">MULTI</text>
        </g>
        
        <!-- Feature: humidity_x_Sex -->
        <g id="humid_sex" transform="translate(600, 0)">
          <rect x="0" y="0" width="280" height="60" rx="4" fill="url(#sexPattern)" stroke="#4575b4" stroke-width="1"/>
          <rect x="5" y="5" width="150" height="8" fill="#e0e0e0" rx="4"/>
          <rect x="5" y="5" width="25" height="8" fill="#4575b4" rx="4"/>
          
          <text x="10" y="25" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c2c2c">
            humidity × Sex (blood pressure)
          </text>
          <text x="10" y="38" font-family="Arial, sans-serif" font-size="9" fill="#666">
            Importance: 0.022-0.033 range
          </text>
          <text x="10" y="50" font-family="Arial, sans-serif" font-size="8" fill="#666">
            Humidity-driven sex differences
          </text>
          
          <circle cx="250" cy="30" r="12" fill="#2166ac" opacity="0.8"/>
          <text x="250" y="33" font-family="Arial, sans-serif" font-size="8" font-weight="bold" text-anchor="middle" fill="white">BP</text>
        </g>
      </g>
      
      <!-- Row 2 of moderate features -->
      <g id="moderate_row2" transform="translate(30, 140)">
        <!-- Feature: apparent_temp_x_Sex (hemoglobin) -->
        <g id="apparent_hgb">
          <rect x="0" y="0" width="280" height="40" rx="4" fill="url(#sexPattern)" stroke="#4575b4" stroke-width="1"/>
          <rect x="5" y="5" width="150" height="8" fill="#e0e0e0" rx="4"/>
          <rect x="5" y="5" width="29" height="8" fill="#4575b4" rx="4"/>
          
          <text x="10" y="25" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c2c2c">
            apparent_temp × Sex → Hemoglobin
          </text>
          <text x="10" y="35" font-family="Arial, sans-serif" font-size="9" fill="#666">
            Importance: 0.019 (blood system effects)
          </text>
          
          <circle cx="250" cy="20" r="10" fill="#e08214" opacity="0.8"/>
          <text x="250" y="23" font-family="Arial, sans-serif" font-size="7" font-weight="bold" text-anchor="middle" fill="white">HGB</text>
        </g>
        
        <!-- Feature: heat_index_x_Sex (creatinine) -->
        <g id="heat_creat" transform="translate(300, 0)">
          <rect x="0" y="0" width="280" height="40" rx="4" fill="url(#sexPattern)" stroke="#4575b4" stroke-width="1"/>
          <rect x="5" y="5" width="150" height="8" fill="#e0e0e0" rx="4"/>
          <rect x="5" y="5" width="24" height="8" fill="#4575b4" rx="4"/>
          
          <text x="10" y="25" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c2c2c">
            heat_index × Sex → Creatinine
          </text>
          <text x="10" y="35" font-family="Arial, sans-serif" font-size="9" fill="#666">
            Importance: 0.020 (renal function)
          </text>
          
          <circle cx="250" cy="20" r="10" fill="#238b45" opacity="0.8"/>
          <text x="250" y="23" font-family="Arial, sans-serif" font-size="7" font-weight="bold" text-anchor="middle" fill="white">CREAT</text>
        </g>
        
        <!-- Feature: humidity_x_Education -->
        <g id="humid_edu" transform="translate(600, 0)">
          <rect x="0" y="0" width="280" height="40" rx="4" fill="url(#climatePattern)" stroke="#4575b4" stroke-width="1"/>
          <rect x="5" y="5" width="150" height="8" fill="#e0e0e0" rx="4"/>
          <rect x="5" y="5" width="20" height="8" fill="#4575b4" rx="4"/>
          
          <text x="10" y="25" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c2c2c">
            humidity × Education (blood pressure)
          </text>
          <text x="10" y="35" font-family="Arial, sans-serif" font-size="9" fill="#666">
            Importance: 0.042 (socioeconomic modifier)
          </text>
          
          <circle cx="250" cy="20" r="10" fill="#2166ac" opacity="0.8"/>
          <text x="250" y="23" font-family="Arial, sans-serif" font-size="8" font-weight="bold" text-anchor="middle" fill="white">BP</text>
        </g>
      </g>
    </g>
    
    <!-- Section: Temporal Lag Patterns -->
    <g id="temporal_section" transform="translate(0, 420)">
      <rect x="0" y="0" width="1200" height="140" rx="10" fill="white" stroke="#238b45" stroke-width="2" filter="url(#shadow)"/>
      
      <!-- Section header -->
      <rect x="20" y="20" width="1160" height="35" rx="5" fill="#238b45"/>
      <text x="600" y="35" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
        TEMPORAL LAG PATTERNS
      </text>
      <text x="600" y="48" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
        Sex-specific differences in temporal response patterns (0-21 day lags)
      </text>
      
      <!-- Temporal features -->
      <g id="temporal_features" transform="translate(50, 70)">
        <!-- 3-day lag -->
        <g id="lag3">
          <rect x="0" y="0" width="260" height="50" rx="4" fill="url(#temporalPattern)" stroke="#238b45" stroke-width="1"/>
          <text x="10" y="20" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c2c2c">
            temperature_lag3 × Sex
          </text>
          <text x="10" y="35" font-family="Arial, sans-serif" font-size="9" fill="#666">
            Acute response (3-day): 0.010-0.015
          </text>
          <text x="10" y="45" font-family="Arial, sans-serif" font-size="8" fill="#666">
            Glucose, HDL, Creatinine
          </text>
        </g>
        
        <!-- 7-day lag -->
        <g id="lag7" transform="translate(280, 0)">
          <rect x="0" y="0" width="260" height="50" rx="4" fill="url(#temporalPattern)" stroke="#238b45" stroke-width="1"/>
          <text x="10" y="20" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c2c2c">
            temperature_lag7 × Sex
          </text>
          <text x="10" y="35" font-family="Arial, sans-serif" font-size="9" fill="#666">
            Medium response (7-day): 0.008-0.013
          </text>
          <text x="10" y="45" font-family="Arial, sans-serif" font-size="8" fill="#666">
            Blood pressure, Hemoglobin
          </text>
        </g>
        
        <!-- 21-day lag -->
        <g id="lag21" transform="translate(560, 0)">
          <rect x="0" y="0" width="260" height="50" rx="4" fill="url(#temporalPattern)" stroke="#238b45" stroke-width="1"/>
          <text x="10" y="20" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c2c2c">
            temperature_lag21 × Sex
          </text>
          <text x="10" y="35" font-family="Arial, sans-serif" font-size="9" fill="#666">
            Chronic response (21-day): 0.008-0.029
          </text>
          <text x="10" y="45" font-family="Arial, sans-serif" font-size="8" fill="#666">
            Cardiovascular adaptation
          </text>
        </g>
        
        <!-- Land temperature lags -->
        <g id="land_lags" transform="translate(840, 0)">
          <rect x="0" y="0" width="260" height="50" rx="4" fill="url(#temporalPattern)" stroke="#238b45" stroke-width="1"/>
          <text x="10" y="20" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c2c2c">
            land_temp_lag × Sex
          </text>
          <text x="10" y="35" font-family="Arial, sans-serif" font-size="9" fill="#666">
            Environmental: 0.009-0.025
          </text>
          <text x="10" y="45" font-family="Arial, sans-serif" font-size="8" fill="#666">
            Cross-biomarker consistency
          </text>
        </g>
      </g>
    </g>
    
    <!-- Summary statistics panel -->
    <g id="summary_stats" transform="translate(0, 580)">
      <rect x="0" y="0" width="1200" height="140" rx="10" fill="white" stroke="#762a83" stroke-width="2" filter="url(#shadow)"/>
      
      <!-- Section header -->
      <rect x="20" y="20" width="1160" height="35" rx="5" fill="#762a83"/>
      <text x="600" y="35" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
        XAI FEATURE IMPORTANCE SUMMARY
      </text>
      <text x="600" y="48" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
        Machine Learning Discovery Statistics Across All Biomarker Analyses
      </text>
      
      <!-- Statistics grid -->
      <g id="stats_grid" transform="translate(50, 70)">
        <!-- Total interactions -->
        <g id="total_interactions">
          <rect x="0" y="0" width="180" height="50" rx="5" fill="#f8f9fa" stroke="#762a83" stroke-width="1"/>
          <text x="90" y="18" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#762a83">
            Total Interactions
          </text>
          <text x="90" y="35" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#2c2c2c">
            186
          </text>
          <text x="90" y="45" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#666">
            interactions tested
          </text>
        </g>
        
        <!-- Sex-specific -->
        <g id="sex_specific" transform="translate(200, 0)">
          <rect x="0" y="0" width="180" height="50" rx="5" fill="#fdf2f8" stroke="#762a83" stroke-width="1"/>
          <text x="90" y="18" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#762a83">
            Sex-Specific
          </text>
          <text x="90" y="35" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#d73027">
            87
          </text>
          <text x="90" y="45" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#666">
            sex interactions found
          </text>
        </g>
        
        <!-- Strong importance -->
        <g id="strong_count" transform="translate(400, 0)">
          <rect x="0" y="0" width="180" height="50" rx="5" fill="#fef0f0" stroke="#762a83" stroke-width="1"/>
          <text x="90" y="18" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#762a83">
            Strong (≥0.020)
          </text>
          <text x="90" y="35" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#d73027">
            12
          </text>
          <text x="90" y="45" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#666">
            high-priority features
          </text>
        </g>
        
        <!-- Moderate importance -->
        <g id="moderate_count" transform="translate(600, 0)">
          <rect x="0" y="0" width="180" height="50" rx="5" fill="#f0f8ff" stroke="#762a83" stroke-width="1"/>
          <text x="90" y="18" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#762a83">
            Moderate (0.010-0.020)
          </text>
          <text x="90" y="35" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#4575b4">
            34
          </text>
          <text x="90" y="45" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#666">
            meaningful interactions
          </text>
        </g>
        
        <!-- Temporal patterns -->
        <g id="temporal_count" transform="translate(800, 0)">
          <rect x="0" y="0" width="180" height="50" rx="5" fill="#f0f8f0" stroke="#762a83" stroke-width="1"/>
          <text x="90" y="18" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#762a83">
            Temporal Patterns
          </text>
          <text x="90" y="35" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#238b45">
            21
          </text>
          <text x="90" y="45" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#666">
            lag-sex interactions
          </text>
        </g>
        
        <!-- Validation success -->
        <g id="validation_success" transform="translate(1000, 0)">
          <rect x="0" y="0" width="150" height="50" rx="5" fill="#f8fff8" stroke="#762a83" stroke-width="1"/>
          <text x="75" y="18" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#762a83">
            DLNM Success
          </text>
          <text x="75" y="35" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#238b45">
            100%
          </text>
          <text x="75" y="45" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#666">
            validation rate
          </text>
        </g>
      </g>
    </g>
  </g>
  
  <!-- Importance scale legend -->
  <g id="importance_legend" transform="translate(50, 750)">
    <rect x="0" y="0" width="300" height="120" rx="8" fill="white" stroke="#333" stroke-width="1" filter="url(#shadow)"/>
    
    <text x="150" y="20" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2c2c2c">
      Importance Scale
    </text>
    
    <!-- Scale bars -->
    <rect x="20" y="30" width="120" height="12" fill="url(#strongImportance)" rx="6"/>
    <text x="150" y="40" font-family="Arial, sans-serif" font-size="10" fill="#2c2c2c">Strong: ≥0.020</text>
    
    <rect x="20" y="50" width="80" height="12" fill="url(#moderateImportance)" rx="6"/>
    <text x="150" y="60" font-family="Arial, sans-serif" font-size="10" fill="#2c2c2c">Moderate: 0.010-0.020</text>
    
    <rect x="20" y="70" width="40" height="12" fill="url(#weakImportance)" rx="6"/>
    <text x="150" y="80" font-family="Arial, sans-serif" font-size="10" fill="#2c2c2c">Weak: 0.005-0.010</text>
    
    <rect x="20" y="90" width="20" height="12" fill="url(#negligibleImportance)" rx="6"/>
    <text x="150" y="100" font-family="Arial, sans-serif" font-size="10" fill="#2c2c2c">Negligible: &lt;0.005</text>
  </g>
  
  <!-- Methodology note -->
  <g id="methodology_note" transform="translate(400, 750)">
    <rect x="0" y="0" width="950" height="120" rx="8" fill="#fff3cd" stroke="#856404" stroke-width="2" filter="url(#shadow)"/>
    
    <text x="475" y="20" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#856404">
      XAI Methodology: Ensemble Feature Importance
    </text>
    
    <g id="method_details" transform="translate(30, 30)">
      <circle cx="0" cy="10" r="4" fill="#856404"/>
      <text x="15" y="15" font-family="Arial, sans-serif" font-size="11" fill="#2c2c2c">
        <tspan font-weight="bold">Ensemble approach:</tspan> Random Forest + Gradient Boosting combined importance scores
      </text>
      
      <circle cx="0" cy="30" r="4" fill="#856404"/>
      <text x="15" y="35" font-family="Arial, sans-serif" font-size="11" fill="#2c2c2c">
        <tspan font-weight="bold">Permutation validation:</tspan> Feature importance confirmed through permutation testing
      </text>
      
      <circle cx="0" cy="50" r="4" fill="#856404"/>
      <text x="15" y="55" font-family="Arial, sans-serif" font-size="11" fill="#2c2c2c">
        <tspan font-weight="bold">Multi-biomarker consistency:</tspan> Patterns validated across 6 physiological systems
      </text>
      
      <circle cx="0" cy="70" r="4" fill="#856404"/>
      <text x="15" y="75" font-family="Arial, sans-serif" font-size="11" fill="#2c2c2c">
        <tspan font-weight="bold">DLNM confirmation:</tspan> Top interactions successfully validated through traditional epidemiological methods
      </text>
    </g>
  </g>
  
  <!-- Figure caption -->
  <g id="figure_caption" transform="translate(50, 890)">
    <text x="0" y="15" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2c2c2c">
      Figure 5. XAI Feature Importance Hierarchy for Climate-Health Interactions.
    </text>
    <text x="0" y="30" font-family="Arial, sans-serif" font-size="11" fill="#666">
      Comprehensive ranking of climate × demographic interactions discovered through explainable AI. Features organized by 
    </text>
    <text x="0" y="42" font-family="Arial, sans-serif" font-size="11" fill="#666">
      importance strength with sex-specific interactions predominating. Temporal patterns show sex differences across multiple
    </text>
    <text x="0" y="54" font-family="Arial, sans-serif" font-size="11" fill="#666">
      lag structures (3, 7, 21 days). Heat Index × Sex interaction with glucose emerges as key discovery (importance = 0.023).
    </text>
  </g>
</svg>